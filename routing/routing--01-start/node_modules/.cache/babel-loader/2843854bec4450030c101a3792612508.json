{"ast":null,"code":"import _objectSpread from \"E:\\\\Udemy Courses\\\\React\\\\routing\\\\routing--01-start\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"E:\\\\Udemy Courses\\\\React\\\\routing\\\\routing--01-start\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\Udemy Courses\\\\React\\\\routing\\\\routing--01-start\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"E:\\\\Udemy Courses\\\\React\\\\routing\\\\routing--01-start\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"E:\\\\Udemy Courses\\\\React\\\\routing\\\\routing--01-start\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\Udemy Courses\\\\React\\\\routing\\\\routing--01-start\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"E:\\\\Udemy Courses\\\\React\\\\routing\\\\routing--01-start\\\\src\\\\containers\\\\Posts\\\\Posts.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react'; // import axios from 'axios';\n\nimport axios from '../../axios';\nimport Post from '../../components/Post/Post';\nimport './Posts.css';\nimport { Route } from 'react-router';\nimport FullPost from '../FullPost/FullPost';\n\nvar Posts = /*#__PURE__*/function (_Component) {\n  _inherits(Posts, _Component);\n\n  var _super = _createSuper(Posts);\n\n  function Posts() {\n    var _this;\n\n    _classCallCheck(this, Posts);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      posts: []\n    };\n\n    _this.loadData = function () {\n      axios.get('/posts').then(function (response) {\n        var posts = response.data.slice(0, 4);\n        var updatedPosts = posts.map(function (post) {\n          return _objectSpread({}, post, {\n            author: 'Max'\n          });\n        });\n\n        _this.setState({\n          posts: updatedPosts\n        }); // console.log( response );\n\n      }).catch(function (error) {\n        console.log(error); //this.setState({error: true});\n      });\n    };\n\n    _this.postSelectedHandler = function (id) {\n      _this.props.history.push({\n        pathname: '/' + id\n      }); //this.props.history.push('/' + id);\n\n    };\n\n    return _this;\n  }\n\n  _createClass(Posts, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.loadData();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var posts = /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          textAlign: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 21\n        }\n      }, \"Something went wrong!\");\n\n      if (!this.state.error) {\n        posts = this.state.posts.map(function (post) {\n          return (\n            /*#__PURE__*/\n            //<Link key={post.id} to={'/' + post.id}>\n            React.createElement(Post, {\n              key: post.id,\n              title: post.title,\n              author: post.author,\n              clicked: function clicked() {\n                return _this2.postSelectedHandler(post.id);\n              },\n              __self: _this2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 49,\n                columnNumber: 25\n              }\n            }) //</Link>\n\n          );\n        });\n      }\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"section\", {\n        className: \"Posts\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }\n      }, posts), /*#__PURE__*/React.createElement(Route, {\n        path: this.props.match.url + \":id\",\n        exact: true,\n        component: FullPost,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }\n      }));\n    }\n  }]);\n\n  return Posts;\n}(Component);\n\nexport default Posts;","map":{"version":3,"sources":["E:/Udemy Courses/React/routing/routing--01-start/src/containers/Posts/Posts.js"],"names":["React","Component","axios","Post","Route","FullPost","Posts","state","posts","loadData","get","then","response","data","slice","updatedPosts","map","post","author","setState","catch","error","console","log","postSelectedHandler","id","props","history","push","pathname","textAlign","title","match","url"],"mappings":";;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC,C,CACA;;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,OAAOC,IAAP,MAAiB,4BAAjB;AACA,OAAO,aAAP;AACA,SAASC,KAAT,QAAsB,cAAtB;AACA,OAAOC,QAAP,MAAqB,sBAArB;;IAEMC,K;;;;;;;;;;;;;;;UACFC,K,GAAQ;AACJC,MAAAA,KAAK,EAAE;AADH,K;;UAQRC,Q,GAAW,YAAM;AACbP,MAAAA,KAAK,CAACQ,GAAN,CAAU,QAAV,EACKC,IADL,CACU,UAAAC,QAAQ,EAAI;AACd,YAAMJ,KAAK,GAAGI,QAAQ,CAACC,IAAT,CAAcC,KAAd,CAAoB,CAApB,EAAuB,CAAvB,CAAd;AACA,YAAMC,YAAY,GAAGP,KAAK,CAACQ,GAAN,CAAU,UAAAC,IAAI,EAAI;AACnC,mCACOA,IADP;AAEIC,YAAAA,MAAM,EAAE;AAFZ;AAIH,SALoB,CAArB;;AAMA,cAAKC,QAAL,CAAc;AAAEX,UAAAA,KAAK,EAAEO;AAAT,SAAd,EARc,CASd;;AACH,OAXL,EAYKK,KAZL,CAYW,UAAAC,KAAK,EAAI;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,EADY,CAEZ;AACH,OAfL;AAgBH,K;;UAGDG,mB,GAAsB,UAACC,EAAD,EAAQ;AAC1B,YAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB;AAACC,QAAAA,QAAQ,EAAE,MAAMJ;AAAjB,OAAxB,EAD0B,CAE1B;;AACH,K;;;;;;;wCA3BmB;AAChB,WAAKhB,QAAL;AACH;;;6BA2BQ;AAAA;;AACL,UAAID,KAAK,gBAAG;AAAG,QAAA,KAAK,EAAE;AAAEsB,UAAAA,SAAS,EAAE;AAAb,SAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAAZ;;AACA,UAAI,CAAC,KAAKvB,KAAL,CAAWc,KAAhB,EAAuB;AACnBb,QAAAA,KAAK,GAAG,KAAKD,KAAL,CAAWC,KAAX,CAAiBQ,GAAjB,CAAqB,UAAAC,IAAI,EAAI;AACjC;AAAA;AACI;AACI,gCAAC,IAAD;AACI,cAAA,GAAG,EAAEA,IAAI,CAACQ,EADd;AAEI,cAAA,KAAK,EAAER,IAAI,CAACc,KAFhB;AAGI,cAAA,MAAM,EAAEd,IAAI,CAACC,MAHjB;AAII,cAAA,OAAO,EAAE;AAAA,uBAAM,MAAI,CAACM,mBAAL,CAAyBP,IAAI,CAACQ,EAA9B,CAAN;AAAA,eAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFR,CAOI;;AAPJ;AASH,SAVO,CAAR;AAWH;;AAED,0BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA;AAAS,QAAA,SAAS,EAAC,OAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKjB,KADL,CADA,eAIA,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAE,KAAKkB,KAAL,CAAWM,KAAX,CAAiBC,GAAjB,GAAuB,KAApC;AAA2C,QAAA,KAAK,MAAhD;AAAiD,QAAA,SAAS,EAAE5B,QAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJA,CADJ;AAQH;;;;EA1DeJ,S;;AA6DpB,eAAeK,KAAf","sourcesContent":["import React, { Component } from 'react';\r\n// import axios from 'axios';\r\nimport axios from '../../axios';\r\nimport Post from '../../components/Post/Post';\r\nimport './Posts.css';\r\nimport { Route } from 'react-router';\r\nimport FullPost from '../FullPost/FullPost';\r\n\r\nclass Posts extends Component {\r\n    state = {\r\n        posts: []\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.loadData();\r\n    }\r\n\r\n    loadData = () => {\r\n        axios.get('/posts')\r\n            .then(response => {\r\n                const posts = response.data.slice(0, 4);\r\n                const updatedPosts = posts.map(post => {\r\n                    return {\r\n                        ...post,\r\n                        author: 'Max'\r\n                    }\r\n                });\r\n                this.setState({ posts: updatedPosts });\r\n                // console.log( response );\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                //this.setState({error: true});\r\n            });\r\n    }\r\n\r\n\r\n    postSelectedHandler = (id) => {\r\n        this.props.history.push({pathname: '/' + id});\r\n        //this.props.history.push('/' + id);\r\n    }\r\n\r\n    render() {\r\n        let posts = <p style={{ textAlign: 'center' }}>Something went wrong!</p>;\r\n        if (!this.state.error) {\r\n            posts = this.state.posts.map(post => {\r\n                return (\r\n                    //<Link key={post.id} to={'/' + post.id}>\r\n                        <Post\r\n                            key={post.id}\r\n                            title={post.title}\r\n                            author={post.author}\r\n                            clicked={() => this.postSelectedHandler(post.id)} />\r\n                    //</Link>\r\n                );\r\n            });\r\n        }\r\n\r\n        return (\r\n            <div>\r\n            <section className=\"Posts\">\r\n                {posts}\r\n            </section>\r\n            <Route path={this.props.match.url + \":id\"} exact component={FullPost} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Posts;\r\n"]},"metadata":{},"sourceType":"module"}