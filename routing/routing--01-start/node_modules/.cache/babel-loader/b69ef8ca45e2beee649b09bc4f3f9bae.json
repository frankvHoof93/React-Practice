{"ast":null,"code":"import _classCallCheck from \"E:\\\\Udemy Courses\\\\React\\\\routing\\\\routing--01-start\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\Udemy Courses\\\\React\\\\routing\\\\routing--01-start\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"E:\\\\Udemy Courses\\\\React\\\\routing\\\\routing--01-start\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"E:\\\\Udemy Courses\\\\React\\\\routing\\\\routing--01-start\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\Udemy Courses\\\\React\\\\routing\\\\routing--01-start\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"E:\\\\Udemy Courses\\\\React\\\\routing\\\\routing--01-start\\\\src\\\\containers\\\\FullPost\\\\FullPost.js\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport './FullPost.css';\n\nvar FullPost = /*#__PURE__*/function (_Component) {\n  _inherits(FullPost, _Component);\n\n  var _super = _createSuper(FullPost);\n\n  function FullPost() {\n    var _this;\n\n    _classCallCheck(this, FullPost);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      loadedPost: null\n    };\n\n    _this.loadData = function () {\n      var query = new URLSearchParams(_this.props.location.search);\n\n      var _iterator = _createForOfIteratorHelper(query.entries()),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var param = _step.value;\n          console.log(param); // yields ['start', '5']\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      if (_this.props.match.params.id) {\n        if (!_this.state.loadedPost || _this.state.loadedPost && // != instead of !== to break infinite loop (one is string, other number)\n        // eslint-disable-next-line\n        _this.state.loadedPost.id != _this.props.match.params.id) {\n          axios.get('/posts/' + _this.props.match.params.id).then(function (response) {\n            console.log(response);\n\n            _this.setState({\n              loadedPost: response.data\n            });\n          });\n        }\n      }\n    };\n\n    _this.deletePostHandler = function () {\n      axios.delete('/posts/' + _this.props.match.params.id).then(function (response) {\n        console.log(response);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(FullPost, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.loadData();\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.loadData();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log(this.props);\n      var post = /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          textAlign: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 20\n        }\n      }, \"Please select a Post!\");\n\n      if (this.props.match.params.id) {\n        post = /*#__PURE__*/React.createElement(\"p\", {\n          style: {\n            textAlign: 'center'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 20\n          }\n        }, \"Loading...!\");\n      }\n\n      if (this.state.loadedPost) {\n        post = /*#__PURE__*/React.createElement(\"div\", {\n          className: \"FullPost\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"h1\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 21\n          }\n        }, this.state.loadedPost.title), /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 21\n          }\n        }, this.state.loadedPost.body), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"Edit\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"button\", {\n          onClick: this.deletePostHandler,\n          className: \"Delete\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 25\n          }\n        }, \"Delete\")));\n      }\n\n      return post;\n    }\n  }]);\n\n  return FullPost;\n}(Component);\n\nexport default FullPost;","map":{"version":3,"sources":["E:/Udemy Courses/React/routing/routing--01-start/src/containers/FullPost/FullPost.js"],"names":["React","Component","axios","FullPost","state","loadedPost","loadData","query","URLSearchParams","props","location","search","entries","param","console","log","match","params","id","get","then","response","setState","data","deletePostHandler","delete","post","textAlign","title","body"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\n\nimport './FullPost.css';\n\nclass FullPost extends Component {\n    state = {\n        loadedPost: null\n    }\n\n    componentDidUpdate() {\n        this.loadData();\n    }\n\n    componentDidMount() {\n        this.loadData();\n    }\n\n    loadData = () => {\n        const query = new URLSearchParams(this.props.location.search);\n        for (let param of query.entries()) {\n            console.log(param); // yields ['start', '5']\n        }\n\n        if (this.props.match.params.id) {\n            if (!this.state.loadedPost || \n                (this.state.loadedPost && \n                    // != instead of !== to break infinite loop (one is string, other number)\n                    // eslint-disable-next-line\n                    this.state.loadedPost.id != this.props.match.params.id)) {\n                axios.get('/posts/' + this.props.match.params.id)\n                    .then(response => {\n                        console.log(response);\n                        this.setState({ loadedPost: response.data });\n                    });\n            }\n        }\n    }\n\n    deletePostHandler = () => {\n        axios.delete('/posts/' + this.props.match.params.id)\n            .then(response => {\n                console.log(response);\n            });\n    }\n\n    render() {\n        console.log(this.props);\n        let post = <p style={{ textAlign: 'center' }}>Please select a Post!</p>;\n        if (this.props.match.params.id) {\n            post = <p style={{ textAlign: 'center' }}>Loading...!</p>;\n        }\n        if (this.state.loadedPost) {\n            post = (\n                <div className=\"FullPost\">\n                    <h1>{this.state.loadedPost.title}</h1>\n                    <p>{this.state.loadedPost.body}</p>\n                    <div className=\"Edit\">\n                        <button onClick={this.deletePostHandler} className=\"Delete\">Delete</button>\n                    </div>\n                </div>\n\n            );\n        }\n        return post;\n    }\n}\n\nexport default FullPost;"]},"metadata":{},"sourceType":"module"}